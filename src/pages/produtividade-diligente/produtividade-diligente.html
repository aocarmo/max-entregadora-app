<!-- -->
<ion-header>

  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>

    <ion-title>   
      Produtividade do Diligente
    </ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding class="search-cars common-bg">
  <ion-grid fixed>
    <ion-row>
      <ion-col col-12>
        <!-- choose pickup and drop-off-->
        <h4 ion-text no-margin color="primary" align="center" class="marginB-16px">
          Período 
        </h4>


        <!--choose time-->
        <ion-card no-margin margin-bottom class="full-width">
          <ion-item class="border-bottom">
            <ion-icon class="fas fa-calendar-alt" color="secondary" item-left></ion-icon>
            <ion-datetime  monthShortNames='Jan, Fev, Mar, Abr, Mai, Jun, Jul, Ago, Set, Out, Nov, Dez' cancelText="Cancelar" doneText="Ok" class="no-pl" ion-text displayFormat="DD/MM/YYYY" pickerFormat="DD/MMM/YYYY" [(ngModel)]="search.dtInicio"></ion-datetime>
          </ion-item>
          <ion-item>
            <ion-icon class="fas fa-calendar-alt" color="secondary" item-left></ion-icon>
            <ion-datetime  monthShortNames='Jan, Fev, Mar, Abr, Mai, Jun, Jul, Ago, Set, Out, Nov, Dez' cancelText="Cancelar" doneText="Ok"  class="no-pl" ion-text displayFormat="DD/MM/YYYY" pickerFormat="DD/MMM/YYYY" [(ngModel)]="search.dtFim"></ion-datetime>
          </ion-item>
        </ion-card>

        <hr>
     

        <button ion-button icon-start block no-margin color="secondary" class="round" tappable (click)="pesquisar()">
          <ion-icon name="search"></ion-icon> Pesquisar
        </button>

      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-grid fixed>
    <ion-row *ngFor="let lista of listaPrebaixas" (click)="abrirDetalhe(lista)">
      <ion-col col-12 margin-bottom>
        <div class="card round">
          <ion-list no-margin>
            <ion-item text-wrap class="secondary-bg">           
              <h2 ion-text class="text-white bold">{{ lista.dadosIntimacao.nomeDestinatario }}</h2>           
            </ion-item>
          </ion-list>   

          <div class="border-bottom" padding>
            <h5 no-margin ion-text color="primary" class="bold">Documento</h5>
            <span ion-text>{{ lista.dadosIntimacao.documentoDestinatario }}</span>
            <h5 no-margin ion-text color="primary" class="bold">Data de Pré Baixa</h5>
            <span ion-text>{{ lista.dadosPreBaixa.dtEntrega }}</span>
            <h5 no-margin ion-text color="primary" class="bold">Protocolo</h5>
            <span ion-text>{{ lista.dadosIntimacao.numeroProtocolo }}</span>
            <h5 no-margin ion-text color="primary" class="bold">Tipo Diligência</h5>
            <span *ngIf="lista.dadosPreBaixa.nomeTentativaEntrega == '1ª'" color="green" ion-text>{{ lista.dadosPreBaixa.nomeTentativaEntrega }} Tentativa - {{ lista.dadosPreBaixa.nomeTipoDiligencia }}</span>       
            <span *ngIf="lista.dadosPreBaixa.nomeTentativaEntrega == '2ª'" color="yellow" ion-text>{{ lista.dadosPreBaixa.nomeTentativaEntrega }} Tentativa - {{ lista.dadosPreBaixa.nomeTipoDiligencia }}</span>       
            <span *ngIf="lista.dadosPreBaixa.nomeTentativaEntrega == '3ª'" color="danger" ion-text>{{ lista.dadosPreBaixa.nomeTentativaEntrega }} Tentativa - {{ lista.dadosPreBaixa.nomeTipoDiligencia }}</span>       
          </div>

          <!--total price-->
          <div padding>          
            <div class="clear"></div>
          </div>
        </div>
      </ion-col>

    </ion-row>
  </ion-grid>
</ion-content>

<ion-footer>
  <!-- search button -->

</ion-footer>
